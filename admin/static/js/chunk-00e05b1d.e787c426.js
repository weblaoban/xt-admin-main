(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00e05b1d"],{"13fe":function(t,e,s){"use strict";s("d5b4")},"1d05":function(t,e,s){"use strict";s("fb19")},9279:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mod-prod-sku-table"},[s("el-form-item",[s("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.value,border:"","span-method":t.tableSpanMethod}},[t._l(t.tableLeftTitles,(function(e,o){return s("el-table-column",{key:o,attrs:{label:e},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.properties.split(";")[o].split(":")[1])+" ")]}}],null,!0)})})),t.tableLeftTitles.length?s("el-table-column",{attrs:{prop:"pic",label:"sku图片",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("pic-upload",{model:{value:e.row.pic,callback:function(s){t.$set(e.row,"pic",s)},expression:"scope.row.pic"}})]}}],null,!1,1005777877)}):t._e(),t.tableLeftTitles.length?s("el-table-column",{attrs:{prop:"prodName",label:"商品名称",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-input",{attrs:{type:"textarea",disabled:!e.row.status},model:{value:e.row.prodName,callback:function(s){t.$set(e.row,"prodName",s)},expression:"scope.row.prodName"}})]}}],null,!1,1047629452)}):t._e(),s("el-table-column",{attrs:{prop:"price",label:"销售价",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-input-number",{attrs:{size:"small","controls-position":"right",precision:2,max:1e9,min:.01,disabled:!e.row.status},model:{value:e.row.price,callback:function(s){t.$set(e.row,"price",s)},expression:"scope.row.price"}})]}}])}),s("el-table-column",{attrs:{prop:"oriPrice",label:"市场价",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-input-number",{attrs:{size:"small","controls-position":"right",precision:2,max:1e9,min:.01,disabled:!e.row.status},model:{value:e.row.oriPrice,callback:function(s){t.$set(e.row,"oriPrice",s)},expression:"scope.row.oriPrice"}})]}}])}),s("el-table-column",{attrs:{prop:"stocks",label:"库存",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-input-number",{attrs:{size:"small",min:0,"controls-position":"right",type:"number",disabled:!e.row.status},model:{value:e.row.stocks,callback:function(s){t.$set(e.row,"stocks",s)},expression:"scope.row.stocks"}})]}}])}),s("el-table-column",{attrs:{prop:"weight",label:"商品重量(kg)",width:"210"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-input-number",{attrs:{precision:2,min:0,"controls-position":"right",disabled:!e.row.status},model:{value:e.row.weight,callback:function(s){t.$set(e.row,"weight",s)},expression:"scope.row.weight"}})]}}])}),s("el-table-column",{attrs:{prop:"volume",label:"商品体积(m³)",width:"210"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-input-number",{attrs:{precision:2,min:0,"controls-position":"right",disabled:!e.row.status},model:{value:e.row.volume,callback:function(s){t.$set(e.row,"volume",s)},expression:"scope.row.volume"}})]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.status?s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return t.changeSkuStatus(""+e.$index)}}},[t._v("禁用")]):s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return t.changeSkuStatus(""+e.$index)}}},[t._v("启用")])]}}])})],2)],1)],1)},l=[],r=s("cf95"),a={data(){return{dbSpecs:[],dbSpecValues:[],specs:[],initing:!1}},components:{PicUpload:r["a"]},props:{value:{default:[],type:Array},prodName:{default:""}},watch:{prodName:function(){this.skuAddProdName()}},created:function(){this.$http({url:this.$http.adornUrl("/prod/spec/list"),method:"get",params:this.$http.adornParams()}).then(({data:t})=>{this.dbSpecs=t})},computed:{tableLeftTitles(){let t=[];for(let e=0;e<this.skuTags.length;e++){const s=this.skuTags[e];t.push(s.tagName)}return t},skuTags:{get(){return this.$store.state.prod.skuTags}},defalutSku(){return this.$store.state.prod.defalutSku}},methods:{init(){this.initing=!0},getTableSpecData(){return this.value},tableSpanMethod({row:t,column:e,rowIndex:s,columnIndex:o}){},changeSkuStatus(t){this.value[t].status=this.value[t].status?0:1},skuAddProdName(){if(this.initing)return;let t=[];for(let e=0;e<this.value.length;e++){const s=Object.assign({},this.value[e]);if(!s.properties)return;s.skuName="";let o=s.properties.split(";");for(const t in o)s.skuName+=o[t].split(":")[1]+" ";s.prodName=this.prodName+" "+s.skuName,t.push(s)}this.$emit("input",t)}}},n=a,i=(s("1d05"),s("0c7c")),u=Object(i["a"])(n,o,l,!1,null,null,null);e["default"]=u.exports},cf95:function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-upload",{staticClass:"pic-uploader-component",attrs:{action:t.$http.adornUrl("/admin/file/upload/element"),headers:{Authorization:t.$cookie.get("Authorization")},"show-file-list":!1,"on-success":t.handleUploadSuccess,"before-upload":t.beforeAvatarUpload}},[t.value?s("img",{staticClass:"pic",attrs:{src:t.value}}):s("i",{staticClass:"el-icon-plus pic-uploader-icon"})])],1)},l=[],r={data(){return{resourcesUrl:"http://8.140.252.39/"}},props:{value:{default:"",type:String}},methods:{handleUploadSuccess(t,e,s){console.log(e),this.$emit("input",this.resourcesUrl+"images/"+e.response.data)},beforeAvatarUpload(t){const e=t.size/1024/1024<2,s="image/jpeg"===t.type||"image/png"===t.type||"image/gif"===t.type||"image/jpg"===t.type;return s||this.$message.error("上传图片只能是jpeg/jpg/png/gif 格式!"),e||this.$message.error("上传图片大小不能超过 2MB!"),e&&s}}},a=r,n=(s("13fe"),s("0c7c")),i=Object(n["a"])(a,o,l,!1,null,null,null);e["a"]=i.exports},d5b4:function(t,e,s){},fb19:function(t,e,s){}}]);