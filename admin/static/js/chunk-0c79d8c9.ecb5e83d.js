(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c79d8c9"],{"78e9":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"shop-transcity-add-or-update"},[i("el-dialog",{attrs:{modal:!1,title:"选择配送区域","close-on-click-modal":!1,visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[i("el-form",{ref:"dataForm",staticStyle:{height:"400px"},attrs:{model:e.dataForm,"label-width":"80px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.dataFormSubmit()}}},[i("el-scrollbar",{staticStyle:{height:"100%"}},[i("el-form-item",{attrs:{size:"mini",label:"配送区域"}},[e.visible?i("el-tree",{ref:"menuListTree",attrs:{data:e.menuList,props:e.menuListTreeProps,"node-key":"areaId","show-checkbox":""}}):e._e()],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("确定")])],1)],1)],1)},a=[],n=i("ed08"),r={data(){return{type:0,visible:!1,menuList:[],rowIndex:0,menuListTreeProps:{label:"areaName",children:"children"},dataForm:{transfeeId:0}}},methods:{init(e,t,i,s){this.type=s,this.rowIndex=e,0===this.menuList.length?this.$http({url:this.$http.adornUrl("/admin/area/list"),method:"get",params:this.$http.adornParams()}).then(({data:e})=>{this.menuList=Object(n["e"])(e,"areaId","parentId")}).then(()=>{this.visible=!0,this.disabledNodes(t,i),this.$nextTick(()=>{this.$refs["dataForm"].resetFields(),this.$refs.menuListTree.setCheckedNodes(t)})}):(this.visible=!0,this.disabledNodes(t,i),this.$nextTick(()=>{this.$refs["dataForm"].resetFields(),this.$refs.menuListTree.setCheckedNodes(t)}))},disabledNodes(e,t){for(let i=0;i<this.menuList.length;i++){const s=this.menuList[i].children;this.menuList[i].disabled=!1;let a=0;for(let n=0;n<s.length;n++){const r=s[n];this.menuList[i].children[n].disabled=!1;let d=t.findIndex(e=>r.areaId===e.areaId)>-1,l=e.findIndex(e=>r.areaId===e.areaId)>-1;d&&!l&&(this.menuList[i].children[n].disabled=!0,a++)}a===this.menuList[i].children.length&&(this.menuList[i].disabled=!0)}},dataFormSubmit(){this.$emit("refreshDataList",this.rowIndex,this.$refs.menuListTree.getCheckedNodes(!0),this.type),this.visible=!1}}},d=r,l=(i("a9c2"),i("0c7c")),o=Object(l["a"])(d,s,a,!1,null,null,null);t["default"]=o.exports},"9e39":function(e,t,i){},a9c2:function(e,t,i){"use strict";i("9e39")}}]);