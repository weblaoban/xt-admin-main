(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7270e4b8","chunk-f567b0b0","chunk-29d24e88","chunk-22e9a9e5","chunk-2d226174","chunk-2d22ba00"],{1:function(e,t){},"20ca":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));const s=(e,t)=>{let a,s=t||300;return function(){let t=arguments;a&&clearTimeout(a);let n=!a;a=setTimeout(()=>{a=null},s),n&&e.apply(this,t)}}},2151:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"site-navbar",class:"site-navbar--"+e.navbarLayoutType},[a("div",{staticClass:"site-navbar__header"},[a("h1",{staticClass:"site-navbar__brand",on:{click:function(t){return e.$router.push({name:"home"})}}},[a("a",{staticClass:"site-navbar__brand-lg",attrs:{href:"javascript:;"}},[e._v("公司")]),a("a",{staticClass:"site-navbar__brand-mini",attrs:{href:"javascript:;"}},[e._v("公司")])])]),a("div",{staticClass:"site-navbar__body clearfix"},[a("el-menu",{staticClass:"site-navbar__menu",attrs:{mode:"horizontal"}},[a("el-menu-item",{staticClass:"site-navbar__switch",attrs:{index:"0"},on:{click:function(t){e.sidebarFold=!e.sidebarFold}}},[a("icon-svg",{attrs:{name:"zhedie"}})],1)],1),a("el-menu",{staticClass:"site-navbar__menu site-navbar__menu--right",attrs:{mode:"horizontal"}},[a("el-menu-item",{staticClass:"site-navbar__avatar",attrs:{index:"3"}},[a("el-dropdown",{attrs:{"show-timeout":0,placement:"bottom"}},[a("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.userName)+" ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(t){return e.updatePasswordHandle()}}},[e._v("修改密码")]),a("el-dropdown-item",{nativeOn:{click:function(t){return e.logoutHandle()}}},[e._v("退出")])],1)],1)],1)],1)],1),e.updatePassowrdVisible?a("update-password",{ref:"updatePassowrd"}):e._e()],1)},n=[],i=a("b0c6"),r=a("ed08"),o={data(){return{updatePassowrdVisible:!1}},components:{UpdatePassword:i["default"]},computed:{navbarLayoutType:{get(){return this.$store.state.common.navbarLayoutType}},sidebarFold:{get(){return this.$store.state.common.sidebarFold},set(e){this.$store.commit("common/updateSidebarFold",e)}},mainTabs:{get(){return this.$store.state.common.mainTabs},set(e){this.$store.commit("common/updateMainTabs",e)}},userName:{get(){return console.log(this.$store.state.user),this.$store.state.user.name}}},methods:{updatePasswordHandle(){this.updatePassowrdVisible=!0,this.$nextTick(()=>{this.$refs.updatePassowrd.init()})},logoutHandle(){this.$confirm("确定进行[退出]操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$http({url:this.$http.adornUrl("/logOut"),method:"post",data:this.$http.adornData()}).then(({data:e})=>{Object(r["a"])(),this.$router.push({name:"login"})})}).catch(()=>{})}}},m=o,u=a("2877"),l=Object(u["a"])(m,s,n,!1,null,null,null);t["default"]=l.exports},"7f94":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"site-wrapper",class:{"site-sidebar--fold":e.sidebarFold},attrs:{"element-loading-text":"拼命加载中"}},[e.loading?e._e():[a("main-navbar"),a("main-sidebar"),a("div",{staticClass:"site-content__wrapper",style:{"min-height":e.documentClientHeight+"px"}},[a("main-content")],1)]],2)},n=[],i=a("2151"),r=a("b8e5"),o=a("e6d1"),m={data(){return{loading:!1}},components:{MainNavbar:i["default"],MainSidebar:r["default"],MainContent:o["default"]},computed:{documentClientHeight:{get(){return this.$store.state.common.documentClientHeight},set(e){this.$store.commit("common/updateDocumentClientHeight",e)}},sidebarFold:{get(){return this.$store.state.common.sidebarFold}},userId:{get(){return this.$store.state.user.id},set(e){this.$store.commit("user/updateId",e)}},userName:{get(){return this.$store.state.user.name},set(e){this.$store.commit("user/updateName",e)}}},created(){this.getUserInfo()},mounted(){this.resetDocumentClientHeight()},methods:{resetDocumentClientHeight(){this.documentClientHeight=document.documentElement["clientHeight"],window.onresize=()=>{this.documentClientHeight=document.documentElement["clientHeight"]}},getUserInfo(){this.$http({url:this.$http.adornUrl("/sys/user/info"),method:"get",params:this.$http.adornParams()}).then(({data:e})=>{this.loading=!1,this.userId=e.userId,this.userName=e.username})}}},u=m,l=a("2877"),d=Object(l["a"])(u,s,n,!1,null,null,null);t["default"]=d.exports},"90c5":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var s=a("3452"),n=a.n(s);const i="-mall4j-password";function r(e){const t=Date.now(),a=n.a.enc.Utf8.parse(i),s=n.a.enc.Utf8.parse(t+e),r=n.a.AES.encrypt(s,a,{mode:n.a.mode.ECB,padding:n.a.pad.Pkcs7});return r.toString()}},b0c6:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"修改密码",visible:e.visible,"append-to-body":!0},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"80px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.dataFormSubmit()}}},[a("el-form-item",{attrs:{label:"账号"}},[a("span",[e._v(e._s(e.userName))])]),a("el-form-item",{attrs:{label:"原密码",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:e.dataForm.password,callback:function(t){e.$set(e.dataForm,"password",t)},expression:"dataForm.password"}})],1),a("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[a("el-input",{attrs:{type:"password"},model:{value:e.dataForm.newPassword,callback:function(t){e.$set(e.dataForm,"newPassword",t)},expression:"dataForm.newPassword"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[a("el-input",{attrs:{type:"password"},model:{value:e.dataForm.confirmPassword,callback:function(t){e.$set(e.dataForm,"confirmPassword",t)},expression:"dataForm.confirmPassword"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("确定")])],1)],1)},n=[],i=a("ed08"),r=a("20ca"),o=a("90c5"),m={data(){var e=(e,t,a)=>{this.dataForm.newPassword!==t?a(new Error("确认密码与新密码不一致")):a()};return{visible:!1,dataForm:{password:"",newPassword:"",confirmPassword:""},dataRule:{password:[{required:!0,message:"原密码不能为空",trigger:"blur"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"blur"}],confirmPassword:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{validator:e,trigger:"blur"}]}}},computed:{userName:{get(){return this.$store.state.user.name}},mainTabs:{get(){return this.$store.state.common.mainTabs},set(e){this.$store.commit("common/updateMainTabs",e)}}},methods:{init(){this.visible=!0,this.$nextTick(()=>{this.$refs["dataForm"].resetFields()})},dataFormSubmit:Object(r["a"])((function(){this.$refs["dataForm"].validate(e=>{e&&this.$http({url:this.$http.adornUrl("/sys/user/password"),method:"post",data:this.$http.adornData({password:Object(o["a"])(this.dataForm.password),newPassword:Object(o["a"])(this.dataForm.newPassword)})}).then(({data:e})=>{this.$message({message:"操作成功",type:"success",duration:1500,onClose:()=>{this.visible=!1,this.$nextTick(()=>{this.mainTabs=[],Object(i["a"])(),this.$router.replace({name:"login"})})}})})})}))}},u=m,l=a("2877"),d=Object(l["a"])(u,s,n,!1,null,null,null);t["default"]=d.exports},b8e5:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aside",{staticClass:"site-sidebar",class:"site-sidebar--"+e.sidebarLayoutSkin},[a("div",{staticClass:"site-sidebar__inner"},[a("el-menu",{staticClass:"site-sidebar__menu",attrs:{"default-active":e.menuActiveName||"home",collapse:e.sidebarFold,collapseTransition:!1}},[a("el-menu-item",{attrs:{index:"home"},on:{click:function(t){return e.$router.push({name:"home"})}}},[a("icon-svg",{staticClass:"site-sidebar__menu-icon",attrs:{name:"shouye"}}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("首页")])],1),e._l(e.menuList,(function(t){return a("sub-menu",{key:t.menuId,attrs:{menu:t,dynamicMenuRoutes:e.dynamicMenuRoutes}})}))],2)],1)])},n=[],i=a("f088"),r=a("61f7"),o={data(){return{dynamicMenuRoutes:[]}},components:{SubMenu:i["default"]},computed:{sidebarLayoutSkin:{get(){return this.$store.state.common.sidebarLayoutSkin}},sidebarFold:{get(){return this.$store.state.common.sidebarFold}},menuList:{get(){return this.$store.state.common.menuList},set(e){this.$store.commit("common/updateMenuList",e)}},menuActiveName:{get(){return this.$store.state.common.menuActiveName},set(e){this.$store.commit("common/updateMenuActiveName",e)}},mainTabs:{get(){return this.$store.state.common.mainTabs},set(e){this.$store.commit("common/updateMainTabs",e)}},mainTabsActiveName:{get(){return this.$store.state.common.mainTabsActiveName},set(e){this.$store.commit("common/updateMainTabsActiveName",e)}}},watch:{$route:"routeHandle"},created(){this.menuList=JSON.parse(sessionStorage.getItem("menuList")||"[]"),this.dynamicMenuRoutes=JSON.parse(sessionStorage.getItem("dynamicMenuRoutes")||"[]"),this.routeHandle(this.$route)},methods:{routeHandle(e){if(e.meta.isTab){var t=this.mainTabs.filter(t=>t.name===e.name)[0];if(!t){if(e.meta.isDynamic&&(e=this.dynamicMenuRoutes.filter(t=>t.name===e.name)[0],!e))return console.error("未能找到可用标签页!");t={menuId:e.meta.menuId||e.name,name:e.name,title:e.meta.title,type:Object(r["c"])(e.meta.iframeUrl)?"iframe":"module",iframeUrl:e.meta.iframeUrl||""},this.mainTabs=this.mainTabs.concat(t)}this.menuActiveName=t.menuId+"",this.mainTabsActiveName=t.name}}}},m=o,u=a("2877"),l=Object(u["a"])(m,s,n,!1,null,null,null);t["default"]=l.exports},e6d1:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"site-content",class:{"site-content--tabs":e.$route.meta.isTab}},[e.$route.meta.isTab?a("el-tabs",{attrs:{closable:!0},on:{"tab-click":e.selectedTabHandle,"tab-remove":e.removeTabHandle},model:{value:e.mainTabsActiveName,callback:function(t){e.mainTabsActiveName=t},expression:"mainTabsActiveName"}},[a("el-dropdown",{staticClass:"site-tabs__tools",attrs:{"show-timeout":0}},[a("i",{staticClass:"el-icon-arrow-down el-icon--right"}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(t){return e.tabsCloseCurrentHandle.apply(null,arguments)}}},[e._v("关闭当前标签页")]),a("el-dropdown-item",{nativeOn:{click:function(t){return e.tabsCloseOtherHandle.apply(null,arguments)}}},[e._v("关闭其它标签页")]),a("el-dropdown-item",{nativeOn:{click:function(t){return e.tabsCloseAllHandle.apply(null,arguments)}}},[e._v("关闭全部标签页")]),a("el-dropdown-item",{nativeOn:{click:function(t){return e.tabsRefreshCurrentHandle.apply(null,arguments)}}},[e._v("刷新当前标签页")])],1)],1),e._l(e.mainTabs,(function(t){return a("el-tab-pane",{key:t.name,attrs:{label:t.title,name:t.name}},[a("el-card",{attrs:{"body-style":e.siteContentViewHeight}},["iframe"===t.type?a("iframe",{attrs:{src:t.iframeUrl,width:"100%",height:"100%",frameborder:"0",scrolling:"yes"}}):a("keep-alive",[t.name===e.mainTabsActiveName?a("router-view"):e._e()],1)],1)],1)}))],2):a("el-card",{attrs:{"body-style":e.siteContentViewHeight}},[a("keep-alive",[a("router-view")],1)],1)],1)},n=[],i=a("61f7"),r={data(){return{}},computed:{documentClientHeight:{get(){return this.$store.state.common.documentClientHeight}},menuActiveName:{get(){return this.$store.state.common.menuActiveName},set(e){this.$store.commit("common/updateMenuActiveName",e)}},mainTabs:{get(){return this.$store.state.common.mainTabs},set(e){this.$store.commit("common/updateMainTabs",e)}},mainTabsActiveName:{get(){return this.$store.state.common.mainTabsActiveName},set(e){this.$store.commit("common/updateMainTabsActiveName",e)}},siteContentViewHeight(){var e=this.documentClientHeight-50-30-2;return this.$route.meta.isTab?(e-=40,Object(i["c"])(this.$route.meta.iframeUrl)?{height:e+"px"}:{minHeight:e+"px"}):{minHeight:e+"px"}}},methods:{selectedTabHandle(e){e=this.mainTabs.filter(t=>t.name===e.name),e.length>=1&&this.$router.push({name:e[0].name})},removeTabHandle(e){this.mainTabs=this.mainTabs.filter(t=>t.name!==e),this.mainTabs.length>=1?e===this.mainTabsActiveName&&this.$router.push({name:this.mainTabs[this.mainTabs.length-1].name},()=>{this.mainTabsActiveName=this.$route.name}):(this.menuActiveName="",this.$router.push({name:"home"}))},tabsCloseCurrentHandle(){this.removeTabHandle(this.mainTabsActiveName)},tabsCloseOtherHandle(){this.mainTabs=this.mainTabs.filter(e=>e.name===this.mainTabsActiveName)},tabsCloseAllHandle(){this.mainTabs=[],this.menuActiveName="",this.$router.push({name:"home"})},tabsRefreshCurrentHandle(){var e=this.mainTabsActiveName;this.removeTabHandle(e),this.$nextTick(()=>{this.$router.push({name:e})})}}},o=r,m=a("2877"),u=Object(m["a"])(o,s,n,!1,null,null,null);t["default"]=u.exports},f088:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.menu.list&&e.menu.list.length>=1?a("el-submenu",{attrs:{index:e.menu.menuId+"","popper-class":"site-sidebar--"+e.sidebarLayoutSkin+"-popper"}},[a("template",{slot:"title"},[a("icon-svg",{staticClass:"site-sidebar__menu-icon",attrs:{name:e.menu.icon||""}}),a("span",[e._v(e._s(e.menu.name))])],1),e._l(e.menu.list,(function(t){return a("sub-menu",{key:t.menuId,attrs:{menu:t,dynamicMenuRoutes:e.dynamicMenuRoutes}})}))],2):a("el-menu-item",{attrs:{index:e.menu.menuId+""},on:{click:function(t){return e.gotoRouteHandle(e.menu)}}},[a("icon-svg",{staticClass:"site-sidebar__menu-icon",attrs:{name:e.menu.icon||""}}),a("span",[e._v(e._s(e.menu.name))])],1)},n=[],i={name:"sub-menu",props:{menu:{type:Object,required:!0},dynamicMenuRoutes:{type:Array,required:!0}},components:{SubMenu:u},computed:{sidebarLayoutSkin:{get(){return this.$store.state.common.sidebarLayoutSkin}}},methods:{gotoRouteHandle(e){var t=this.dynamicMenuRoutes.filter(t=>t.meta.menuId===e.menuId);t.length>=1&&this.$router.push({name:t[0].name})}}},r=i,o=a("2877"),m=Object(o["a"])(r,s,n,!1,null,null,null),u=t["default"]=m.exports}}]);